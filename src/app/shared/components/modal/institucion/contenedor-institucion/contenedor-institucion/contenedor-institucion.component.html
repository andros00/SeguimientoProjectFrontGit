<mat-card class="card">
  <div class="container">
    <div class="fade-b-t">
      <div>
        <button mat-button (click)="cancelar()"><mat-icon>arrow_back</mat-icon> Regresar</button>

        <div *ngIf="!modoRegistro">
          <h2>Buscar Institución</h2>

          <app-filtro-institucion (emitirBusquedaRealizada)="onBusquedaRealizada($event)"
            (emitirFormularioModificado)="onFormularioModificado()">
          </app-filtro-institucion>

          <div class="margin-top">
            <app-resultado-institucion [resultados]="resultados" (emitirSeleccion)="onSeleccion($event)">
            </app-resultado-institucion>
          </div>

          <div *ngIf="resultados?.length === 0 && permiteCrear" class="margin-top contextual-info">
            <p>No se encontró la institución. ¿Desea registrarla?</p>
            <button mat-button color="primary" (click)="abrirModoRegistro()">Registrar institución</button>
          </div>

          <div *ngIf="resultados?.length === 0 && !permiteCrear" class="margin-top alert-error">
            <mat-icon>cancel</mat-icon> No se encontraron instituciones.
          </div>
        </div>

        <!-- Modo registro: aquí incluyes el formulario de creación si existe -->
        <div *ngIf="modoRegistro">
          <h3>Registrar institución (modo provisório)</h3>
          <p>Aquí puedes ligar tu componente de creación</p>
          <button mat-button (click)="modoRegistro = false">Volver</button>
        </div>
      </div>
    </div>
  </div>
</mat-card>
