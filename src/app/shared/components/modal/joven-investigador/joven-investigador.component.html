<div class="container mt-4">
  <h2 class="text-center mb-3">Jóvenes Investigadores</h2>

  <!-- Cargando -->
  <div *ngIf="cargando" class="text-center">
    <mat-spinner diameter="40"></mat-spinner>
    <p>Cargando información...</p>
  </div>

  <!-- Filtro
  <div *ngIf="!cargando" class="mb-3">
    <mat-form-field appearance="outline" class="w-100">
      <mat-label>Buscar joven investigador</mat-label>
      <input matInput [formControl]="filtro" (keyup)="aplicarFiltro()" placeholder="Filtrar por nombre o identificación" />
    </mat-form-field>
  </div> -->

  <!-- Tabla -->
  <div *ngIf="!cargando">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 w-100">

      <!-- Identificación -->
      <ng-container matColumnDef="identificacion">
        <th mat-header-cell *matHeaderCellDef> Identificación </th>
        <td mat-cell *matCellDef="let element">
          {{ element.tipoIdentificacion }} {{ element.identificacion }}
        </td>
      </ng-container>

      <!-- Nombre Completo -->
      <ng-container matColumnDef="nombreCompleto">
        <th mat-header-cell *matHeaderCellDef> Nombre Completo </th>
        <td mat-cell *matCellDef="let element">
          {{ element.nombrePila }} {{ element.apellido1 }} {{ element.apellido2 }}
        </td>
      </ng-container>

      <!-- Correo -->
      <ng-container matColumnDef="correoElectronico">
        <th mat-header-cell *matHeaderCellDef> Correo </th>
        <td mat-cell *matCellDef="let element">
          {{ element.correoElectronico || 'No registrado' }}
        </td>
      </ng-container>

      <!-- Celular -->
      <ng-container matColumnDef="celular">
        <th mat-header-cell *matHeaderCellDef> Celular </th>
        <td mat-cell *matCellDef="let element">
          {{ element.celular || 'No disponible' }}
        </td>
      </ng-container>

      <!-- Programa -->
      <ng-container matColumnDef="programa">
        <th mat-header-cell *matHeaderCellDef> Programa </th>
        <td mat-cell *matCellDef="let element">
          {{ element.programa || 'No aplica' }}
        </td>
      </ng-container>

      <!-- Semestre -->
      <ng-container matColumnDef="semestre">
        <th mat-header-cell *matHeaderCellDef> Semestre </th>
        <td mat-cell *matCellDef="let element">
          {{ element.semestre || '-' }}
        </td>
      </ng-container>

      <!-- Grupo Tutor -->
      <ng-container matColumnDef="nombreGrupoTutor">
        <th mat-header-cell *matHeaderCellDef> Grupo Tutor </th>
        <td mat-cell *matCellDef="let element">
          {{ element.nombreGrupoTutor || 'Sin grupo' }}
        </td>
      </ng-container>

      <!-- Tutor -->
      <ng-container matColumnDef="nombreTutor">
        <th mat-header-cell *matHeaderCellDef> Tutor </th>
        <td mat-cell *matCellDef="let element">
          {{ element.nombreTutor }} <br />
          <small>{{ element.correoTutor }}</small>
        </td>
      </ng-container>

      <!-- Confirmado -->
      <ng-container matColumnDef="confirmado">
        <th mat-header-cell *matHeaderCellDef> Confirmado </th>
        <td mat-cell *matCellDef="let element">
          {{ element.confirmado === 'S' ? 'Sí' : 'No' }}
        </td>
      </ng-container>

      <!-- Acciones -->
       <ng-container matColumnDef="acciones">
            <th mat-header-cell *matHeaderCellDef> Acciones </th>
            <td mat-cell *matCellDef="let p">
              <app-menu [menuItems]="p.menuItems"></app-menu>
            </td>
        </ng-container>

      <!-- Filas -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <!-- Sin datos -->
    <div *ngIf="dataSource.data.length === 0 && !cargando" class="text-center mt-3">
      <p>No hay jóvenes investigadores registrados.</p>
    </div>
  </div>
</div>
